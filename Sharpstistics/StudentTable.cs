using System.Collections.Generic;

namespace Sharpstistics
{
    public class StudentTable
    {
        private static readonly Dictionary<int, Dictionary<double, double>> Table = new Dictionary<int, Dictionary<double, double>>
        {
                {1 , new Dictionary<double, double>{{0.5, 1.0000},{0.2, 3.0777},{0.1, 6.3138},{0.05,12.7062},{0.02,31.8205},{0.01,63.6567},{0.005,127.3213},{0.002,318.3088},{0.001,636.6192}}},
                {2 , new Dictionary<double, double>{{0.5, 0.8165},{0.2, 1.8856},{0.1, 2.9200},{0.05,4.3029},{0.02,6.9646},{0.01,9.9248},{0.005,14.0890},{0.002,22.3271},{0.001,31.5991}}},
                {3 , new Dictionary<double, double>{{0.5, 0.7649},{0.2, 1.6377},{0.1, 2.3534},{0.05,3.1824},{0.02,4.5407},{0.01,5.8409},{0.005,7.4533},{0.002,10.2145},{0.001,12.9240}}},
                {4 , new Dictionary<double, double>{{0.5,0.7407},{0.2,1.5332},{0.1,2.1318},{0.05,2.7764},{0.02,3.7469},{0.01,4.6041},{0.005,5.5976},{0.002,7.1732},{0.001,8.6103}}},
                {5 , new Dictionary<double, double>{{0.5,0.7267},{0.2,1.4759},{0.1,2.0150},{0.05,2.5706},{0.02,3.36490},{0.01,4.0321},{0.005,4.7733},{0.002,5.8934},{0.001,6.8688}}},
                {6 , new Dictionary<double, double>{{0.5,0.7176},{0.2,1.4398},{0.1,1.9432},{0.05,2.4469},{0.02,3.1427},{0.01,3.7074},{0.005,4.3168},{0.002,5.2076},{0.001,5.9688}}},
                {7 , new Dictionary<double, double>{{0.5,0.7111},{0.2,1.419},{0.1,1.8946},{0.05,2.3646},{0.02,2.9980},{0.01,3.4995},{0.005,4.0293},{0.002,4.7853},{0.001,5.4079}}},
                {8 , new Dictionary<double, double>{{0.5,0.7064},{0.2,1.3968},{0.1,1.8595},{0.05,2.3060},{0.02,2.8965},{0.01,3.3554},{0.005,3.8325},{0.002,4.5008},{0.001,5.0413}}},
                {9 , new Dictionary<double, double>{{0.5,0.7027},{0.2,1.3830},{0.1,1.8331},{0.05,2.2622},{0.02,2.8214},{0.01,3.2498},{0.005,3.6897},{0.002,4.2968},{0.001,4.7809}}},
                {10 , new Dictionary<double, double>{{0.5,0.6998},{0.2,1.3722},{0.1,1.8125},{0.05,2.2281},{0.02,2.7638},{0.01,3.1693},{0.005,3.5814},{0.002,4.1437},{0.001,4.5869}}},
                {11 , new Dictionary<double, double>{{0.5,0.6974},{0.2,1.3634},{0.1,1.7959},{0.05,2.2010},{0.02,2.7181},{0.01,3.1058},{0.005,3.4966},{0.002,4.0347},{0.001,4.4370}}},
                {12 , new Dictionary<double, double>{{0.5,0.6955},{0.2,1.3562},{0.1,1.7823},{0.05,2.1788},{0.02,2.6810},{0.01,3.0545},{0.005,3.4284},{0.002,3.9296},{0.001,4.3178}}},
                {13 , new Dictionary<double, double>{{0.5,0.6938},{0.2,1.3502},{0.1,1.7709},{0.05,2.1604},{0.02,2.6503},{0.01,3.0123},{0.005,3.3725},{0.002,3.8520},{0.001,4.2208}}},
                {14 , new Dictionary<double, double>{{0.5,0.6924},{0.2,1.3450},{0.1,1.7613},{0.05,2.1448},{0.02,2.6245},{0.01,2.9768},{0.005,3.3257},{0.002,3.7874},{0.001,4.1405}}},
                {15 , new Dictionary<double, double>{{0.5,0.6912},{0.2,1.3406},{0.1,1.7530},{0.05,2.1314},{0.02,2.6025},{0.01,2.9467},{0.005,3.2860},{0.002,3.7328},{0.001,4.0728}}},
                {16 , new Dictionary<double, double>{{0.5,0.6901},{0.2,1.3368},{0.1,1.7459},{0.05,2.1199},{0.02,2.5835},{0.01,2.9208},{0.005,3.2520},{0.002,3.6862},{0.001,4.0150}}},
                {17 , new Dictionary<double, double>{{0.5,0.6892},{0.2,1.3334},{0.1,1.7396},{0.05,2.1098},{0.02,2.5669},{0.01,2.8982},{0.005,3.2224},{0.002,3.6458},{0.001,3.9651}}},
                {18 , new Dictionary<double, double>{{0.5,0.6884},{0.2,1.3304},{0.1,1.7341},{0.05,2.1009},{0.02,2.5524},{0.01,2.8784},{0.005,3.1966},{0.002,3.6105},{0.001,3.9216}}},
                {19 , new Dictionary<double, double>{{0.5,0.6876},{0.2,1.3277},{0.1,1.7291},{0.05,2.0930},{0.02,2.5395},{0.01,2.8609},{0.005,3.1737},{0.002,3.5794},{0.001,3.8834}}},
                {20 , new Dictionary<double, double>{{0.5,0.6870},{0.2,1.3253},{0.1,1.7247},{0.05,2.0860},{0.02,2.5280},{0.01,2.8453},{0.005,3.1534},{0.002,3.5518},{0.001,3.8495}}},
                {21 , new Dictionary<double, double>{{0.5,0.6864},{0.2,1.3232},{0.1,1.7207},{0.05,2.0796},{0.02,2.5176},{0.01,2.8314},{0.005,3.1352},{0.002,3.5272},{0.001,3.8193}}},
                {22 , new Dictionary<double, double>{{0.5,0.6858},{0.2,1.3212},{0.1,1.7171},{0.05,2.0739},{0.02,2.5083},{0.01,2.8188},{0.005,3.1188},{0.002,3.5050},{0.001,3.7921}}},
                {23 , new Dictionary<double, double>{{0.5,0.6853},{0.2,1.3195},{0.1,1.7139},{0.05,2.0687},{0.02,2.4999},{0.01,2.8073},{0.005,3.1040},{0.002,3.4850},{0.001,3.7676}}},
                {24 , new Dictionary<double, double>{{0.5,0.6848},{0.2,1.3178},{0.1,1.7109},{0.05,2.0639},{0.02,2.4922},{0.01,2.7969},{0.005,3.0905},{0.002,3.4668},{0.001,3.7455}}},
                {25 , new Dictionary<double, double>{{0.5,0.6844},{0.2,1.3163},{0.1,1.7081},{0.05,2.0595},{0.02,2.4851},{0.01,2.7874},{0.005,2.0782},{0.002,3.4502},{0.001,3.7251}}},
                {26 , new Dictionary<double, double>{{0.5,0.6840},{0.2,1.3150},{0.1,1.7056},{0.05,2.0555},{0.02,2.4786},{0.01,2.7787},{0.005,3.0669},{0.002,3.4350},{0.001,3.7066}}},
                {27 , new Dictionary<double, double>{{0.5,0.6837},{0.2,1.3137},{0.1,1.7033},{0.05,2.0518},{0.02,2.4727},{0.01,2.7707},{0.005,3.0565},{0.002,3.4210},{0.001,3.6896}}},
                {28 , new Dictionary<double, double>{{0.5,0.6834},{0.2,1.3125},{0.1,1.7011},{0.05,2.0484},{0.02,2.4671},{0.01,2.7633},{0.005,3.0469},{0.002,3.4082},{0.001,3.6739}}},
                {29 , new Dictionary<double, double>{{0.5,0.6830},{0.2,1.3114},{0.1,1.6991},{0.05,2.0452},{0.02,2.4620},{0.01,2.7564},{0.005,3.0380},{0.002,3.3962},{0.001,3.6594}}},
                {30 , new Dictionary<double, double>{{0.5,0.6828},{0.2,1.3104},{0.1,1.6973},{0.05,2.0423},{0.02,2.4573},{0.01,2.7500},{0.005,3.0298},{0.002,3.3852},{0.001,3.6460}}},
                {32 , new Dictionary<double, double>{{0.5,0.6822},{0.2,1.3086},{0.1,1.6939},{0.05,2.0369},{0.02,2.4487},{0.01,2.7385},{0.005,3.0149},{0.002,3.3653},{0.001,3.6218}}},
                {34 , new Dictionary<double, double>{{0.5,0.6818},{0.2,1.3070},{0.1,1.6909},{0.05,2.0322},{0.02,2.4411},{0.01,2.7284},{0.005,3.0020},{0.002,3.3479},{0.001,3.6007}}},
                {36 , new Dictionary<double, double>{{0.5,0.6814},{0.2,1.3055},{0.1,1.6883},{0.05,2.0281},{0.02,2.4345},{0.01,2.7195},{0.005,2.9905},{0.002,3.3326},{0.001,2.5821}}},
                {38 , new Dictionary<double, double>{{0.5,0.6810},{0.2,1.3042},{0.1,1.6860},{0.05,2.0244},{0.02,2.4286},{0.01,2.7116},{0.005,2.9803},{0.002,3.3190},{0.001,3.5657}}},
                {40 , new Dictionary<double, double>{{0.5,0.6807},{0.2,1.3031},{0.1,1.6839},{0.05,2.0211},{0.02,2.4233},{0.01,2.7045},{0.005,2.9712},{0.002,3.3069},{0.001,3.5510}}},
                {42 , new Dictionary<double, double>{{0.5,0.6804},{0.2,1.3020},{0.1,1.6820},{0.05,2.0181},{0.02,2.4185},{0.01,2.6981},{0.005,2.9630},{0.002,3.2960},{0.001,3.5377}}},
                {44 , new Dictionary<double, double>{{0.5,0.6801},{0.2,1.3011},{0.1,1.6802},{0.05,2.0154},{0.02,2.4141},{0.01,2.6923},{0.005,2.9555},{0.002,3.2861},{0.001,3.5258}}},
                {46 , new Dictionary<double, double>{{0.5,0.6799},{0.2,1.3002},{0.1,1.6787},{0.05,2.0129},{0.02,2.4102},{0.01,2.6870},{0.005,2.9488},{0.002,3.2771},{0.001,3.5150}}},
                {48 , new Dictionary<double, double>{{0.5,0.6796},{0.2,1.2994},{0.1,1.6772},{0.05,2.0106},{0.02,2.4066},{0.01,2.6822},{0.005,2.9426},{0.002,3.2689},{0.001,3.5051}}},
                {50 , new Dictionary<double, double>{{0.5,0.6794},{0.2,1.2987},{0.1,1.6759},{0.05,2.0086},{0.02,2.4033},{0.01,2.6778},{0.005,2.9370},{0.002,3.2614},{0.001,3.4960}}},
                {55 , new Dictionary<double, double>{{0.5,0.6790},{0.2,1.2971},{0.1,1.6730},{0.05,2.0040},{0.02,2.3961},{0.01,2.6682},{0.005,2.9247},{0.002,3.2561},{0.001,3.4764}}},
                {60 , new Dictionary<double, double>{{0.5,0.6786},{0.2,1.2958},{0.1,1.6706},{0.05,2.0003},{0.02,2.3901},{0.01,2.6693},{0.005,2.9146},{0.002,3.2317},{0.001,3.4602}}},
                {65 , new Dictionary<double, double>{{0.5,0.6783},{0.2,1.2947},{0.1,1.6686},{0.05,1.9971},{0.02,2.3851},{0.01,2.6536},{0.005,2.9060},{0.002,3.2204},{0.001,3.4466}}},
                {70 , new Dictionary<double, double>{{0.5,0.6780},{0.2,1.2938},{0.1,1.6669},{0.05,1.9944},{0.02,2.3808},{0.01,2.6479},{0.005,2.8987},{0.002,3.2108},{0.001,3.4350}}},
                {80 , new Dictionary<double, double>{{0.5,0.6776},{0.2,1.2922},{0.1,1.6641},{0.05,1.9901},{0.02,2.3739},{0.01,2.6387},{0.005,2.8870},{0.002,2.1953},{0.001,3.4163}}},
                {90 , new Dictionary<double, double>{{0.5,0.6772},{0.2,1.2910},{0.1,1.6620},{0.05,1.9867},{0.02,2.3685},{0.01,2.6316},{0.005,2.8779},{0.002,3.1833},{0.001,3.4019}}},
                {100 , new Dictionary<double, double>{{0.5,0.6770},{0.2,1.2901},{0.1,1.6602},{0.05,1.9840},{0.02,2.3642},{0.01,2.6259},{0.005,2.8707},{0.002,3.1737},{0.001,3.3905}}},
                {120 , new Dictionary<double, double>{{0.5,0.6765},{0.2,1.2886},{0.1,1.6577},{0.05,1.9799},{0.02,2.3578},{0.01,2.6174},{0.005,2.8599},{0.002,3.1595},{0.001,3.3735}}},
                {150 , new Dictionary<double, double>{{0.5,0.6761},{0.2,1.2872},{0.1,1.6551},{0.05,1.9759},{0.02,2.3515},{0.01,2.6090},{0.005,2.8492},{0.002,3.1455},{0.001,3.3566}}},
                {200 , new Dictionary<double, double>{{0.5,0.6757},{0.2,1.2858},{0.1,1.6525},{0.05,1.9719},{0.02,2.3451},{0.01,2.6006},{0.005,2.8385},{0.002,3.1315},{0.001,3.3398}}},
                {250 , new Dictionary<double, double>{{0.5,0.6755},{0.2,1.2849},{0.1,1.6510},{0.05,1.9695},{0.02,2.3414},{0.01,2.5956},{0.005,2.8322},{0.002,3.1232},{0.001,3.3299}}},
                {300 , new Dictionary<double, double>{{0.5,0.6753},{0.2,1.2844},{0.1,1.6499},{0.05,1.9679},{0.02,2.3388},{0.01,2.5923},{0.005,2.8279},{0.002,3.1176},{0.001,3.3233}}},
                {400 , new Dictionary<double, double>{{0.5,0.6751},{0.2,1.2837},{0.1,1.6487},{0.05,1.9659},{0.02,2.3357},{0.01,2.5882},{0.005,2.8227},{0.002,3.1107},{0.001,2.3150}}},
                {500 , new Dictionary<double, double>{{0.5,0.6750},{0.2,1.2832},{0.1,1.6479},{0.05,1.9647},{0.02,2.3338},{0.01,2.5857},{0.005,2.8195},{0.002,3.1066},{0.001,3.3101}}},
                {999 , new Dictionary<double, double>{{0.5,0.6745},{0.2,1.2816},{0.1,1.6449},{0.05,1.9600},{0.02,2.3263},{0.01,2.5758},{0.005,2.8070},{0.002,3.0902},{0.001,3.2905}}}
            };

        /// <summary>
        /// Returns a Student's T-Distribution value.
        /// </summary>
        /// <param name="k">Degrees of Freedom</param>
        /// <param name="p">Probability</param>
        /// <returns></returns>
        public static double GetStudentValue(int k, double p)
        {
            return k > 500 ? Table[999][p] : Table[k][p];
        }
    }
}

